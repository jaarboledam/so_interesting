{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","api","comments","get","article_id","callback","$","url","processData","contentType","done","data","fail","err","post","formData","FormData","append","name","lastname","comment","likes","localStorage","getItem","likesObj","parseJSON","error","window","this","obj","setItem","JSON","stringify","status","delete","2","_interopRequireDefault","__esModule","default","like","$article","closest","hasClass","_apiClient2","removeClass","addClass","console","log","_apiClient","isEmptyObject","each","idx","el","find","on","./api-client","3","validateForm","$name","$form","$lastname","$comment","checkValidity","showAlert","preventDefault","val","saveComment","res","renderComment","id","prepend","$callout","html","Foundation","Motion","animateIn","4","_smoothScroll","_smoothScroll2","./smooth-scroll","5","toggleNavbar","$navbar","$content","showSearchbox","$searchbox","animateOut","scrollHandler","scroll","document","scrollTop","$topbar","height","slideUp","$wrapper","slideDown","$btnMenu","$btnSearch","jQuery","6","smoothScroll","$elements","target","offset","undefined","isNaN","parseInt","top","animate","7","_menu","_footer","_cards","_comments","./components/cards","./components/comments","./components/footer","./components/menu"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar api = {\n  comments: {\n    get: function get(article_id, callback) {\n      $.get({\n        url: \"/api/\" + article_id,\n        processData: false,\n        contentType: false\n      }).done(function (data) {\n        if (callback) callback(data);\n      }).fail(function (err) {\n        if (callback) callback(\"{error: \" + err + \"}\");\n      });\n    },\n    post: function post(article_id, data, callback) {\n      var formData = new FormData();\n      formData.append(\"name\", data.name);\n      formData.append(\"lastname\", data.lastname);\n      formData.append(\"comment\", data.comment);\n\n      $.post({\n        url: \"/api/\" + article_id,\n        data: formData,\n        processData: false,\n        contentType: false\n      }).done(function (data) {\n        if (callback) callback(data);\n      }).fail(function (err) {\n        if (callback) callback(\"{error: \" + err + \"}\");\n      });\n    }\n  },\n  likes: {\n    get: function get(callback) {\n      try {\n        var likes = localStorage.getItem('soInterestingArticlelikes');\n        var likesObj = likes ? $.parseJSON(likes) : {};\n\n        if (callback) callback(likesObj);\n      } catch (err) {\n        if (callback) callback({ 'error': err });\n      }\n    },\n    post: function post(article_id, data, callback) {\n      if (window.localStorage) {\n        try {\n          this.get(function (obj) {\n            obj[article_id] = data || article_id;\n\n            localStorage.setItem('soInterestingArticlelikes', JSON.stringify(obj));\n            if (callback) callback({ 'status': 'OK' });\n          });\n        } catch (err) {\n          if (callback) callback({ 'error': err });\n        }\n      }\n    },\n    delete: function _delete(article_id) {\n      this.get(function (obj) {\n        delete obj[article_id];\n        localStorage.setItem('soInterestingArticlelikes', JSON.stringify(obj));\n      });\n    }\n  }\n};\n\nexports.default = api;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _apiClient = require('./api-client');\n\nvar _apiClient2 = _interopRequireDefault(_apiClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n  _apiClient2.default.likes.get(function (data) {\n    if (!$.isEmptyObject(data)) {\n      var article_id = null;\n      $('.card').each(function (idx, el) {\n        article_id = $(el).data('id');\n        if (data[article_id]) {\n          $(el).find('.likeButton').addClass('liked');\n        }\n      });\n    }\n  });\n});\n\nfunction like() {\n  var $article = $(this).closest('article');\n  var article_id = $article.data('id');\n\n  if ($(this).hasClass('liked')) {\n    _apiClient2.default.likes.delete(article_id);\n    $(this).removeClass('liked');\n  } else {\n    $(this).addClass('liked');\n    _apiClient2.default.likes.post(article_id, null, function (data) {\n      console.log(data);\n    });\n  }\n}\n\n$('.likeButton').on('click', like);\n\n},{\"./api-client\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar _apiClient = require('./api-client');\n\nvar _apiClient2 = _interopRequireDefault(_apiClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $form = $('#frmComment');\nvar article_id = $('.article').data('id');\n\n(function () {\n  _apiClient2.default.comments.get(article_id, function (res) {\n    if (res.length) {\n      $.each(res, function (idx) {\n        renderComment(res[idx]);\n      });\n    }\n  });\n})();\n\nfunction validateForm(e) {\n  var $name = $form.find('#txtName'),\n      $lastname = $form.find('#txtLastName'),\n      $comment = $form.find('#txtComment');\n\n  if (!$name[0].checkValidity()) {\n    $name.addClass('has-error');\n    showAlert();\n    return false;\n  }\n\n  if (!$lastname[0].checkValidity()) {\n    $lastname.addClass('has-error');\n    showAlert();\n    return false;\n  }\n\n  if (!$comment[0].checkValidity()) {\n    $comment.addClass('has-error');\n    showAlert();\n    return false;\n  }\n\n  e.preventDefault();\n\n  var data = {\n    name: $name.val(),\n    lastname: $lastname.val(),\n    comment: $comment.val()\n  };\n\n  saveComment(data);\n}\n\nfunction saveComment(data) {\n  _apiClient2.default.comments.post(article_id, data, function (res) {\n    if (res['id']) {\n      renderComment(res);\n    }\n  });\n}\n\nfunction renderComment(data) {\n  var comment = '<div class=\"comment\" data-id=\"' + data.id + '\">\\n                  <div class=\"comment-author\"><span class=\"accent\">' + (data.name + ' ' + data.lastname) + '</span> wrote...</div>\\n                  <p class=\"comment-content\">' + data.comment + '</p>\\n                 </div>';\n\n  $('.article-comments').prepend(comment);\n}\n\nfunction showAlert() {\n  var $callout = $('#alertMessage');\n  $callout.find('.text').html('Please fill in the marked fields.');\n  Foundation.Motion.animateIn($callout, 'fade-in');\n}\n\n$form.on('submit', validateForm);\n\n},{\"./api-client\":1}],4:[function(require,module,exports){\n'use strict';\n\nvar _smoothScroll = require('./smooth-scroll');\n\nvar _smoothScroll2 = _interopRequireDefault(_smoothScroll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n\t(0, _smoothScroll2.default)();\n});\n\n},{\"./smooth-scroll\":6}],5:[function(require,module,exports){\n'use strict';\n\n!function ($) {\n  var $wrapper = $('.site-bar-wrapper');\n  var $topbar = $('.site-topbar');\n  var $navbar = $('.site-navbar');\n  var $content = $('.site-content-wrapper');\n  var $btnMenu = $topbar.find('#menuButton');\n  var $btnSearch = $topbar.find('#searchButton');\n  var $searchbox = $topbar.find('div.site-topbar-searchbox');\n\n  function toggleNavbar() {\n    if ($navbar.hasClass('is-visible')) {\n      $content.removeClass('offset');\n      $navbar.removeClass('is-visible');\n      $(this).removeClass('active');\n    } else {\n      $content.addClass('offset');\n      $navbar.addClass('is-visible');\n      $(this).addClass('active');\n    }\n  }\n\n  function showSearchbox() {\n    if ($searchbox.hasClass('visible')) {\n      Foundation.Motion.animateOut($searchbox, 'fade-out', function () {\n        $(this).removeClass('visible');\n      });\n    } else {\n      Foundation.Motion.animateIn($searchbox, 'fade-in', function () {\n        $(this).addClass('visible');\n      });\n    }\n  }\n\n  function scrollHandler() {\n    var scroll = $(document).scrollTop();\n\n    if (scroll > $topbar.height()) {\n      $navbar.find('.site-navbar-header').slideUp();\n      $wrapper.addClass('fixed-topbar');\n    } else {\n      $navbar.find('.site-navbar-header').slideDown();\n      $wrapper.removeClass('fixed-topbar');\n    }\n  }\n\n  $btnMenu.on('click', toggleNavbar);\n  $btnSearch.on('click', showSearchbox);\n  $(window).on('scroll', scrollHandler);\n}(jQuery);\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = smoothScroll;\nfunction smoothScroll() {\n  var $elements = $('.do-scroll');\n\n  $elements.on('click', function (e) {\n    e.preventDefault();\n    var target = $(this).data('scroll-to');\n    var offset = 0;\n\n    if (target !== undefined) {\n      if (isNaN(parseInt(target))) {\n        $(target).offset().top;\n      } else {\n        offset = target;\n      }\n\n      $('html, body').animate({\n        scrollTop: offset\n      }, 1000);\n    }\n  });\n}\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar _menu = require('./components/menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _footer = require('./components/footer');\n\nvar _footer2 = _interopRequireDefault(_footer);\n\nvar _cards = require('./components/cards');\n\nvar _cards2 = _interopRequireDefault(_cards);\n\nvar _comments = require('./components/comments');\n\nvar _comments2 = _interopRequireDefault(_comments);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./components/cards\":2,\"./components/comments\":3,\"./components/footer\":4,\"./components/menu\":5}]},{},[7]);\n"],"sourceRoot":"/source/"}